<%- include('parcials/before_import') %>
<link rel="stylesheet" href="/css/chat.css">
<!-- External Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
<script src="/js/script.js"></script>

<%- include('parcials/after_import') %>
<%- include('parcials/nav') %>

<!-- Chat Box Section -->
<section class="chat-container">
  <div class="chat-box">
    <div class="chat-header">
      <h2>Chat Room</h2>
     
    </div>

    <!-- Hidden Username -->
    <input type="text" id="username" value="<%= user.username %>" hidden />

    <!-- Recipient Selection -->
    <div class="chat-users">
      <label for="recipient">Select a Friend:</label>
      <select id="recipient">
        <option value="" disabled selected>Choose a contact</option>
        <% friends.forEach(friend => { %>
          <option value="<%= friend.username %>"><%= friend.username %></option>
        <% }); %>
      </select>
    </div>

    <!-- Messages Display -->
    <div id="messages" class="chat-messages"></div>

    <!-- Message Input -->
    <div class="chat-input-area">
      <input type="text" id="message" placeholder="Type a message..." />
      <button id="sendBtn" class="btn">Send</button>
    </div>
  </div>
</section>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js"></script>
<script src="/js/chatScript.js"></script>